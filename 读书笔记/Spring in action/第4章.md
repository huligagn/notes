# Aspect-oriented Spring

在软件开发中，需要在应用中多处生效的函数被称为*cross-cutting concerns*，通常把*cross-cutting concerns*与业务逻辑分离的过程就是面向切面编程（AOP）。AOP的场景很多：logging、transaction、security、caching，另外除了Spring对AOP支持，我们还可以选择其他的AOP框架——AspectJ。

## 4.1 What is aspect-oriented programming?

一个应用程序可以被分为多个相对独立的功能模块，但是很多功能是跨模块的；面向对象的解决思路是使用继承和委托，但是继承和委托会造成调用逻辑散布于代码各处，而且调用逻辑也会更加复杂；切面提供了另一种解决思路，使用AOP既可以把跨模块功能收归于一处，又能在定义时指定代码的被调用逻辑。所以AOP会带来两点好处：

- 逻辑归于一处，避免分布于代码各处
- 业务逻辑仍然保证相对独立，而且切面逻辑基本不会影响业务逻辑的代码。

### 4.1.1 Defining AOP terminology

AOP里面有很多专业的术语，需要注意，这些术语的组织如图所示

![image-20190917135538210](/Users/huligang/workspace/notes/读书笔记/Spring in action/img/04-AOP-jargons.png)

#### ADVICE

一个切面的职责被称为advice，advice定义了切面要做什么和什么时候做，Spring提供了5中Advice：

- Before，advice发生于目标方法之前
- After，advice发生于目标方法之后，无论目标方法的输出是什么
- After-returning，advice发生于目标方法成功之后
- After-throwing，advice发生于目标方法抛出异常之后
- Around，advice发生于目标方法执行阶段